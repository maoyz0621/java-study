1、定义状态和事件枚举

2、状态机定义所有的状态和初始状态

3、状态机定义状态的迁移动作

4、状态机的监听器